import{s as Fe,d as Se,n as ne,r as Ke,t as qe,e as He}from"../chunks/scheduler.Wcy2_qxX.js";import{S as ze,i as Ge,e as v,s as j,c as p,a as T,k as Z,f as L,d as _,o as h,q as te,g as F,h as n,r as _e,u as M,v as Ie,t as K,b as H,j as le,w as Pe}from"../chunks/index.sVORdB3n.js";import{e as ve}from"../chunks/each.g1eSarPM.js";let Ce,je,Me,Le=!1;async function Je(l){Le||(Ce=await(await l("/sales.json")).json(),Ce.headers,je=Ce.values,Me=je.map(e=>({id:e[0],date:e[1],notes:e[2]+"",total:e[3],type:e[4]})),Le=!0)}async function Qe({url:l,fetch:t}){await Je(t);let e=l.searchParams.get("start")||0;e=+e,(e<0||!e)&&(e=0);let s=l.searchParams.get("count")||50;s=+s,(s<0||!s)&&(s=50);let d=l.searchParams.get("sort")||"total",o=l.searchParams.get("sortOrder")||"desc",c=l.searchParams.get("q")||"";const i=[...Me].sort((u,m)=>{const N=o==="asc"?1:-1;return u[d]<m[d]?-1*N:u[d]>m[d]?1*N:u.id-m.id}).filter(u=>c==""?!0:u.id==c||u.notes.toLowerCase().indexOf(c.toLowerCase())>-1),f=i.slice(e,e+s);return{total:i.length,salesSlice:f,start:e,count:s,q:c,sortKey:d,sortOrder:o}}const tt=Object.freeze(Object.defineProperty({__proto__:null,load:Qe},Symbol.toStringTag,{value:"Module"}));function Ve(l,t,e){const s=l.slice();return s[24]=t[e],s}function Ne(l,t,e){const s=l.slice();return s[27]=t[e],s}function Be(l){let t,e=l[27].text+"",s,d;return{c(){t=v("option"),s=K(e),d=j(),this.h()},l(o){t=p(o,"OPTION",{});var c=T(t);s=H(c,e),d=L(c),c.forEach(_),this.h()},h(){t.__value=l[27].key,te(t,t.__value)},m(o,c){F(o,t,c),n(t,s),n(t,d)},p:ne,d(o){o&&_(t)}}}function We(l){let t;return{c(){t=K("No results found.")},l(e){t=H(e,"No results found.")},m(e,s){F(e,t,s)},p:ne,d(e){e&&_(t)}}}function Xe(l){let t=l[1]+1+"",e,s,d=l[1]+Math.min(l[2],l[7])+"",o,c,i;return{c(){e=K(t),s=K(" to "),o=K(d),c=K(" of "),i=K(l[7])},l(f){e=H(f,t),s=H(f," to "),o=H(f,d),c=H(f," of "),i=H(f,l[7])},m(f,u){F(f,e,u),F(f,s,u),F(f,o,u),F(f,c,u),F(f,i,u)},p(f,u){u&2&&t!==(t=f[1]+1+"")&&le(e,t),u&134&&d!==(d=f[1]+Math.min(f[2],f[7])+"")&&le(o,d),u&128&&le(i,f[7])},d(f){f&&(_(e),_(s),_(o),_(c),_(i))}}}function Re(l){let t,e="Prev",s,d;return{c(){t=v("button"),t.textContent=e,this.h()},l(o){t=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-3kth0f"&&(t.textContent=e),this.h()},h(){h(t,"class","svelte-5fgqw5")},m(o,c){F(o,t,c),s||(d=M(t,"click",l[13]),s=!0)},p:ne,d(o){o&&_(t),s=!1,d()}}}function Ae(l){let t,e="Next",s,d;return{c(){t=v("button"),t.textContent=e,this.h()},l(o){t=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1gygnm3"&&(t.textContent=e),this.h()},h(){h(t,"class","svelte-5fgqw5")},m(o,c){F(o,t,c),s||(d=M(t,"click",l[12]),s=!0)},p:ne,d(o){o&&_(t),s=!1,d()}}}function Ue(l){let t,e,s,d=l[24].id+"",o,c,i,f,u=l[24].total.toLocaleString()+"",m,N,E,b=l[24].date+"",A,q,y,z=l[24].notes+"",S,Q;return{c(){t=v("tr"),e=v("td"),s=v("a"),o=K(d),i=j(),f=v("td"),m=K(u),N=j(),E=v("td"),A=K(b),q=j(),y=v("td"),S=K(z),Q=j(),this.h()},l(C){t=p(C,"TR",{});var g=T(t);e=p(g,"TD",{class:!0});var B=T(e);s=p(B,"A",{target:!0,href:!0});var x=T(s);o=H(x,d),x.forEach(_),B.forEach(_),i=L(g),f=p(g,"TD",{class:!0});var W=T(f);m=H(W,u),W.forEach(_),N=L(g),E=p(g,"TD",{class:!0});var V=T(E);A=H(V,b),V.forEach(_),q=L(g),y=p(g,"TD",{class:!0});var X=T(y);S=H(X,z),X.forEach(_),Q=L(g),g.forEach(_),this.h()},h(){h(s,"target","_blank"),h(s,"href",c=l[14](l[24].id,l[24].type)),h(e,"class","svelte-5fgqw5"),h(f,"class","svelte-5fgqw5"),h(E,"class","svelte-5fgqw5"),h(y,"class","svelte-5fgqw5")},m(C,g){F(C,t,g),n(t,e),n(e,s),n(s,o),n(t,i),n(t,f),n(f,m),n(t,N),n(t,E),n(E,A),n(t,q),n(t,y),n(y,S),n(t,Q)},p(C,g){g&256&&d!==(d=C[24].id+"")&&le(o,d),g&256&&c!==(c=C[14](C[24].id,C[24].type))&&h(s,"href",c),g&256&&u!==(u=C[24].total.toLocaleString()+"")&&le(m,u),g&256&&b!==(b=C[24].date+"")&&le(A,b),g&256&&z!==(z=C[24].notes+"")&&le(S,z)},d(C){C&&_(t)}}}function Ye(l){let t,e,s,d=`Offset sales data has been sourced from The Berkeley Carbon Trading
      Project. This dataset consists of the name of every organisation or
      individual who has bought an offset, date of the sale, quantity of offsets
      purchased and from which project.`,o,c,i,f,u,m,N="Sort by",E,b,A,q,y,z="Ascending",S,Q="Descending",C,g,B,x="Reset",W,V,X,k,R,$,pe,G,ie,ge,J,se,ke='<th width="10%" class="svelte-5fgqw5">Project ID</th> <th width="10%" class="svelte-5fgqw5">Carbon Credits</th> <th width="10%" class="svelte-5fgqw5">Date</th> <th class="svelte-5fgqw5">Buyer Information</th>',me,be,Te,ae=ve(l[9]),D=[];for(let a=0;a<ae.length;a+=1)D[a]=Be(Ne(l,ae,a));function Ee(a,w){return a[7]>0?Xe:We}let fe=Ee(l),U=fe(l),I=l[1]>0&&Re(l),P=l[1]+l[2]<l[7]&&Ae(l),re=ve(l[8]),O=[];for(let a=0;a<re.length;a+=1)O[a]=Ue(Ve(l,re,a));return{c(){t=v("div"),e=v("form"),s=v("div"),s.textContent=d,o=j(),c=v("div"),i=v("input"),f=j(),u=v("div"),m=v("label"),m.textContent=N,E=j(),b=v("select");for(let a=0;a<D.length;a+=1)D[a].c();A=j(),q=v("select"),y=v("option"),y.textContent=z,S=v("option"),S.textContent=Q,C=j(),g=v("div"),B=v("button"),B.textContent=x,W=j(),V=v("input"),X=j(),k=v("div"),R=v("div"),$=v("div"),U.c(),pe=j(),G=v("div"),I&&I.c(),ie=j(),P&&P.c(),ge=j(),J=v("table"),se=v("tr"),se.innerHTML=ke,me=j();for(let a=0;a<O.length;a+=1)O[a].c();this.h()},l(a){t=p(a,"DIV",{class:!0});var w=T(t);e=p(w,"FORM",{class:!0,method:!0,action:!0});var r=T(e);s=p(r,"DIV",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-mte2kg"&&(s.textContent=d),o=L(r),c=p(r,"DIV",{class:!0});var Y=T(c);i=p(Y,"INPUT",{type:!0,placeholder:!0,name:!0,class:!0}),Y.forEach(_),f=L(r),u=p(r,"DIV",{class:!0});var oe=T(u);m=p(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-9wr9qt"&&(m.textContent=N),E=L(oe),b=p(oe,"SELECT",{name:!0,id:!0,class:!0});var ye=T(b);for(let ee=0;ee<D.length;ee+=1)D[ee].l(ye);ye.forEach(_),A=L(oe),q=p(oe,"SELECT",{name:!0,class:!0});var we=T(q);y=p(we,"OPTION",{"data-svelte-h":!0}),Z(y)!=="svelte-13sjfr5"&&(y.textContent=z),S=p(we,"OPTION",{"data-svelte-h":!0}),Z(S)!=="svelte-1h5gs53"&&(S.textContent=Q),we.forEach(_),oe.forEach(_),C=L(r),g=p(r,"DIV",{class:!0});var De=T(g);B=p(De,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(B)!=="svelte-l7l9do"&&(B.textContent=x),De.forEach(_),W=L(r),V=p(r,"INPUT",{type:!0,name:!0,class:!0}),r.forEach(_),X=L(w),k=p(w,"DIV",{});var ue=T(k);R=p(ue,"DIV",{class:!0});var ce=T(R);$=p(ce,"DIV",{class:!0});var Oe=T($);U.l(Oe),Oe.forEach(_),pe=L(ce),G=p(ce,"DIV",{class:!0});var he=T(G);I&&I.l(he),ie=L(he),P&&P.l(he),he.forEach(_),ce.forEach(_),ge=L(ue),J=p(ue,"TABLE",{class:!0});var de=T(J);se=p(de,"TR",{"data-svelte-h":!0}),Z(se)!=="svelte-9c3j80"&&(se.innerHTML=ke),me=L(de);for(let ee=0;ee<O.length;ee+=1)O[ee].l(de);de.forEach(_),ue.forEach(_),w.forEach(_),this.h()},h(){h(s,"class","help svelte-5fgqw5"),h(i,"type","text"),h(i,"placeholder","Search"),h(i,"name","q"),i.autofocus=l[5],h(i,"class","svelte-5fgqw5"),h(c,"class","filter svelte-5fgqw5"),h(m,"for","sort"),h(m,"class","svelte-5fgqw5"),h(b,"name","sort"),h(b,"id","sort"),h(b,"class","svelte-5fgqw5"),l[3]===void 0&&Se(()=>l[19].call(b)),y.__value="asc",te(y,y.__value),S.__value="desc",te(S,S.__value),h(q,"name","sortOrder"),h(q,"class","svelte-5fgqw5"),l[4]===void 0&&Se(()=>l[20].call(q)),h(u,"class","filter svelte-5fgqw5"),h(B,"class","reset svelte-5fgqw5"),h(g,"class","filter svelte-5fgqw5"),h(V,"type","hidden"),h(V,"name","start"),h(V,"class","svelte-5fgqw5"),h(e,"class","filters svelte-5fgqw5"),h(e,"method","GET"),h(e,"action","/sales"),h($,"class","page-counts"),h(G,"class","page-buttons"),h(R,"class","pagination svelte-5fgqw5"),h(J,"class","svelte-5fgqw5"),h(t,"class","project-container svelte-5fgqw5")},m(a,w){F(a,t,w),n(t,e),n(e,s),n(e,o),n(e,c),n(c,i),te(i,l[0]),n(e,f),n(e,u),n(u,m),n(u,E),n(u,b);for(let r=0;r<D.length;r+=1)D[r]&&D[r].m(b,null);_e(b,l[3],!0),n(u,A),n(u,q),n(q,y),n(q,S),_e(q,l[4],!0),n(e,C),n(e,g),n(g,B),n(e,W),n(e,V),te(V,l[1]),l[22](e),n(t,X),n(t,k),n(k,R),n(R,$),U.m($,null),n(R,pe),n(R,G),I&&I.m(G,null),n(G,ie),P&&P.m(G,null),n(k,ge),n(k,J),n(J,se),n(J,me);for(let r=0;r<O.length;r+=1)O[r]&&O[r].m(J,null);l[5]&&i.focus(),be||(Te=[M(i,"input",l[16]),M(i,"keyup",l[17]),M(i,"blur",l[18]),M(b,"change",l[19]),M(b,"change",l[10]),M(q,"change",l[20]),M(q,"change",l[10]),M(B,"click",l[11]),M(V,"input",l[21])],be=!0)},p(a,[w]){if(w&32&&(i.autofocus=a[5]),w&1&&i.value!==a[0]&&te(i,a[0]),w&512){ae=ve(a[9]);let r;for(r=0;r<ae.length;r+=1){const Y=Ne(a,ae,r);D[r]?D[r].p(Y,w):(D[r]=Be(Y),D[r].c(),D[r].m(b,null))}for(;r<D.length;r+=1)D[r].d(1);D.length=ae.length}if(w&520&&_e(b,a[3]),w&16&&_e(q,a[4]),w&2&&te(V,a[1]),fe===(fe=Ee(a))&&U?U.p(a,w):(U.d(1),U=fe(a),U&&(U.c(),U.m($,null))),a[1]>0?I?I.p(a,w):(I=Re(a),I.c(),I.m(G,ie)):I&&(I.d(1),I=null),a[1]+a[2]<a[7]?P?P.p(a,w):(P=Ae(a),P.c(),P.m(G,null)):P&&(P.d(1),P=null),w&16640){re=ve(a[8]);let r;for(r=0;r<re.length;r+=1){const Y=Ve(a,re,r);O[r]?O[r].p(Y,w):(O[r]=Ue(Y),O[r].c(),O[r].m(J,null))}for(;r<O.length;r+=1)O[r].d(1);O.length=re.length}},i:ne,o:ne,d(a){a&&_(t),Ie(D,a),l[22](null),U.d(),I&&I.d(),P&&P.d(),Ie(O,a),be=!1,Ke(Te)}}}function Ze(l,t,e){let s,d,{data:o}=t,c=o.q,i=o.start,f=o.count,u=o.sortKey,m=o.sortOrder,N=!1,E;const b=["https://registry.goldstandard.org/projects/details/","https://registry.verra.org/app/projectDetail/VCS/","https://acr2.apx.com/mymodule/reg/prjView.asp?id1=","https://thereserve2.apx.com/mymodule/reg/prjView.asp?id1="],A=[{key:"notes",text:"Buyer Information"},{key:"total",text:"Total Carbon Credits"},{key:"date",text:"Date"}];async function q(){e(1,i=0),await qe(),E.requestSubmit()}function y(){e(0,c=""),e(1,i=0),e(2,f=50),e(3,u="total"),e(4,m="desc")}async function z(){e(1,i+=f),i>d&&e(1,i=d-f),await qe(),E.requestSubmit()}async function S(){e(1,i-=f),i<0&&e(1,i=0),await qe(),E.requestSubmit()}function Q(k,R){return R==2&&(k=k.replace("ACR","")),R==3&&(k=k.replace("CAR","")),b[R]+k}function C(){c=this.value,e(0,c)}const g=()=>{e(1,i=0),E.requestSubmit(),e(5,N=!0)},B=()=>{e(5,N=!1)};function x(){u=Pe(this),e(3,u),e(9,A)}function W(){m=Pe(this),e(4,m)}function V(){i=this.value,e(1,i)}function X(k){He[k?"unshift":"push"](()=>{E=k,e(6,E)})}return l.$$set=k=>{"data"in k&&e(15,o=k.data)},l.$$.update=()=>{l.$$.dirty&32768&&e(8,s=o.salesSlice),l.$$.dirty&32768&&e(7,d=o.total)},[c,i,f,u,m,N,E,d,s,A,q,y,z,S,Q,o,C,g,B,x,W,V,X]}class lt extends ze{constructor(t){super(),Ge(this,t,Ze,Ye,Fe,{data:15})}}export{lt as component,tt as universal};
